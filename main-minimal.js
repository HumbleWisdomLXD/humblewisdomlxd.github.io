// Enhanced content data for Humble Wisdom website
const contentData = {
    featuredResource: {
        title: "SACRED Bible Study Method",
        description: "Go beyond the surface to discover meaning for yourself",
        image: `https://picsum.photos/800/500?random=${Math.floor(Math.random() * 1000)}`,
        link: "sacred-bible-study.html"
    },

    bibleStudyTools: [
        {
            title: "Character Study Template",
            description: "Comprehensive framework for studying biblical characters, their motivations, growth, and lessons for modern application.",
            image: `https://picsum.photos/400/300?random=${Math.floor(Math.random() * 1000)}`,
            category: "Study Templates"
        },
        {
            title: "Timeline Organizer",
            description: "Visual tools for mapping biblical events, understanding chronology, and connecting historical contexts across Scripture.",
            image: `https://picsum.photos/400/300?random=${Math.floor(Math.random() * 1000)}`,
            category: "Organization Tools"
        },
        {
            title: "Verse Mapping Sheets",
            description: "Structured worksheets for deep verse analysis, word studies, and cross-reference exploration.",
            image: `https://picsum.photos/400/300?random=${Math.floor(Math.random() * 1000)}`,
            category: "Analysis Tools"
        },
        {
            title: "Theme Tracker",
            description: "Tools for following biblical themes across multiple books and understanding their development throughout Scripture.",
            image: `https://picsum.photos/400/300?random=${Math.floor(Math.random() * 1000)}`,
            category: "Theme Studies"
        },
        {
            title: "Prayer Journal Templates",
            description: "Guided formats for recording prayers, tracking answers, and developing a deeper prayer life through Scripture.",
            image: `https://picsum.photos/400/300?random=${Math.floor(Math.random() * 1000)}`,
            category: "Prayer Tools"
        },
        {
            title: "Scripture Memory Cards",
            description: "Printable memory aids and systems for effectively memorizing and meditating on biblical passages.",
            image: `https://picsum.photos/400/300?random=${Math.floor(Math.random() * 1000)}`,
            category: "Memory Tools"
        }
    ],

    guidedBibleStudies: [
        {
            title: "The Book of Daniel: Living Faith in Hostile Times",
            description: "An in-depth exploration of Daniel's prophecies, character studies, and practical applications for maintaining faith in challenging circumstances.",
            image: `https://picsum.photos/400/300?random=${Math.floor(Math.random() * 1000)}`,
            pages: "85 pages",
            format: "PDF + Audio Commentary"
        },
        {
            title: "Understanding Revelation: A Systematic Approach",
            description: "Comprehensive verse-by-verse study of Revelation with historical context, symbolic interpretation, and prophetic significance.",
            image: `https://picsum.photos/400/300?random=${Math.floor(Math.random() * 1000)}`,
            pages: "120 pages",
            format: "PDF + Study Questions"
        },
        {
            title: "The Psalms: Songs for Every Season",
            description: "Journey through the Psalms with focus on different types of psalms and their relevance to modern spiritual life and worship.",
            image: `https://picsum.photos/400/300?random=${Math.floor(Math.random() * 1000)}`,
            pages: "95 pages",
            format: "PDF + Reflection Guide"
        },
        {
            title: "Paul's Letters: Grace and Practical Living",
            description: "Study of Paul's epistles focusing on the balance between grace theology and practical Christian living in community.",
            image: `https://picsum.photos/400/300?random=${Math.floor(Math.random() * 1000)}`,
            pages: "110 pages",
            format: "PDF + Discussion Questions"
        }
    ],

    sixSixSixSeries: {
        title: "666: Resisting the Mark of the Beast",
        description: "Six signs, six deviant motivators, and six ways to protect yourself. Plus several strategies to actively resist being overwhelmed or enraptured by the mark of the beast.",
        image: `https://picsum.photos/600/400?random=${Math.floor(Math.random() * 1000)}`,
        seriesInfo: "Multi-Part Study Series",
        link: "series.html"
    },

    perspectives: [
        {
            title: "Consider This: Relationships as Systems",
            excerpt: "What if we viewed our relationships not as isolated interactions, but as interconnected systems where every action creates ripple effects? This perspective shifts how we approach conflict, communication, and connection.",
            date: "2025-01-15",
            category: "Systems Thinking: Relationships",
            readTime: "6 min read"
        },
        {
            title: "Consider This: The Workplace as an Ecosystem",
            excerpt: "Modern workplaces function as complex ecosystems where culture, processes, and individual behaviors create feedback loops. Understanding these systems can transform how we navigate professional challenges.",
            date: "2025-01-12",
            category: "Systems Thinking: In the Workplace",
            readTime: "8 min read"
        },
        {
            title: "Consider This: The BET Connection",
            excerpt: "Your body, emotions, and thoughts don't operate in isolation—they form an integrated system. When we understand these connections, we can more effectively address stress, anxiety, and personal growth.",
            date: "2025-01-10",
            category: "Systems Thinking: Winning the BET",
            readTime: "7 min read"
        },
        {
            title: "Consider This: Faith in Systems Context",
            excerpt: "What happens when we apply systems thinking to spiritual growth? We begin to see how beliefs, practices, and community interactions create feedback loops that either strengthen or weaken our faith journey.",
            date: "2025-01-08",
            category: "Systems Thinking: Relationships",
            readTime: "9 min read"
        },
        {
            title: "Consider This: Workplace Stress as System Failure",
            excerpt: "Instead of viewing workplace stress as individual weakness, what if we examined it as a symptom of systemic dysfunction? This reframe opens new possibilities for both personal coping and organizational change.",
            date: "2025-01-05",
            category: "Systems Thinking: In the Workplace",
            readTime: "5 min read"
        },
        {
            title: "Consider This: Emotional Intelligence as System Management",
            excerpt: "Managing the BET system requires understanding how physical state, emotional responses, and cognitive patterns influence each other. Small changes in one area can cascade throughout the entire system.",
            date: "2025-01-03",
            category: "Systems Thinking: Winning the BET",
            readTime: "6 min read"
        }
    ],

    resources: [
        {
            title: "Spiritual Growth Assessment",
            description: "Comprehensive self-evaluation tool for tracking spiritual development, identifying growth areas, and creating personalized development plans.",
            image: `https://picsum.photos/300/200?random=${Math.floor(Math.random() * 1000)}`,
            category: "Assessment Tools"
        },
        {
            title: "Family Devotion Guides",
            description: "Age-appropriate devotional materials and discussion guides for fostering spiritual conversations within families.",
            image: `https://picsum.photos/300/200?random=${Math.floor(Math.random() * 1000)}`,
            category: "Family Resources"
        },
        {
            title: "Leadership in Ministry Toolkit",
            description: "Practical resources for those called to leadership roles in church and ministry contexts, including vision-casting and team development.",
            image: `https://picsum.photos/300/200?random=${Math.floor(Math.random() * 1000)}`,
            category: "Leadership Tools"
        },
        {
            title: "Crisis Faith Workbook",
            description: "Guided exercises and biblical resources for navigating seasons of doubt, loss, and spiritual wilderness experiences.",
            image: `https://picsum.photos/300/200?random=${Math.floor(Math.random() * 1000)}`,
            category: "Crisis Support"
        },
        {
            title: "Small Group Facilitation Manual",
            description: "Complete guide for leading effective Bible study groups, including discussion techniques and conflict resolution strategies.",
            image: `https://picsum.photos/300/200?random=${Math.floor(Math.random() * 1000)}`,
            category: "Group Leadership"
        },
        {
            title: "Prophetic Study Framework",
            description: "Systematic approach to studying biblical prophecy with tools for understanding symbolism, timeline, and modern relevance.",
            image: `https://picsum.photos/300/200?random=${Math.floor(Math.random() * 1000)}`,
            category: "Prophecy Tools"
        }
    ],

    forLadiesOnly: {
        title: "For Ladies Only",
        description: "Recovery: A Guidebook for helping you recover from abusive relationships and returning to the true you",
        image: `https://picsum.photos/600/400?random=${Math.floor(Math.random() * 1000)}`,
        link: "for-ladies-only.html"
    }
};

// Utility function to format dates
function formatDate(dateString) {
    const options = { year: 'numeric', month: 'long', day: 'numeric' };
    return new Date(dateString).toLocaleDateString('en-US', options);
}

// Render featured resource
function renderFeaturedResource() {
    const featuredPost = document.getElementById('featured-post');
    if (!featuredPost) return;

    const featured = contentData.featuredResource;
    
    featuredPost.innerHTML = `
        <div class="featured-banner" style="
            background: linear-gradient(135deg, #192E5B, #3288A0);
            color: white;
            padding: 2rem;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 2rem;
            cursor: pointer;
            transition: transform 0.3s ease;
        ">
            <div class="banner-image" style="
                width: 80px;
                height: 80px;
                background-image: url('${featured.image}');
                background-size: cover;
                background-position: center;
                border-radius: 8px;
                flex-shrink: 0;
                border: 2px solid rgba(255,255,255,0.3);
            "></div>
            <div class="banner-content">
                <div class="banner-title" style="
                    font-size: 1.8rem;
                    font-weight: 400;
                    margin-bottom: 0.5rem;
                ">${featured.title}</div>
                <div class="banner-description" style="
                    font-size: 1rem;
                    opacity: 0.9;
                ">${featured.description}</div>
            </div>
        </div>
    `;

    // Add hover effect and click handler
    const banner = featuredPost.querySelector('.featured-banner');
    banner.addEventListener('mouseenter', () => {
        banner.style.transform = 'translateY(-3px)';
    });
    banner.addEventListener('mouseleave', () => {
        banner.style.transform = 'translateY(0)';
    });
    banner.addEventListener('click', () => {
        window.location.href = featured.link;
    });
}

// Render Bible Study Tools
function renderBibleStudyTools() {
    const toolsGrid = document.getElementById('articles-grid');
    if (!toolsGrid) return;

    toolsGrid.innerHTML = contentData.bibleStudyTools.map(tool => `
        <div class="article-card" data-title="${tool.title}">
            <div class="card-image" style="background-image: url('${tool.image}')"></div>
            <div class="card-content">
                <div class="card-meta">${tool.category}</div>
                <h3 class="card-title">${tool.title}</h3>
                <p class="card-excerpt">${tool.description}</p>
                <div class="card-footer">
                    <span class="card-date">Download</span>
                </div>
            </div>
        </div>
    `).join('');

    // Add click handlers
    toolsGrid.addEventListener('click', (e) => {
        const card = e.target.closest('.article-card');
        if (card) {
            window.location.href = 'bible-study-tools.html';
        }
    });
}

// Render Guided Bible Studies
function renderGuidedBibleStudies() {
    const studiesGrid = document.getElementById('publications-grid');
    if (!studiesGrid) return;

    studiesGrid.innerHTML = contentData.guidedBibleStudies.map(study => `
        <div class="publication-card" data-title="${study.title}">
            <div class="card-image" style="background-image: url('${study.image}')"></div>
            <div class="card-content">
                <div class="card-meta">Guided Study</div>
                <h3 class="card-title">${study.title}</h3>
                <p class="card-excerpt">${study.description}</p>
                <div class="card-footer">
                    <span class="card-date">${study.pages}</span>
                    <span class="card-price free">${study.format}</span>
                </div>
            </div>
        </div>
    `).join('');

    // Add click handlers
    studiesGrid.addEventListener('click', (e) => {
        const card = e.target.closest('.publication-card');
        if (card) {
            window.location.href = 'guided-bible-studies.html';
        }
    });
}

// Render 666 Series
function render666Series() {
    const videosGrid = document.getElementById('videos-grid');
    if (!videosGrid) return;

    const series = contentData.sixSixSixSeries;
    
    videosGrid.innerHTML = `
        <div class="series-outline" style="
            border: 1px solid #e5e5e5;
            border-radius: 8px;
            padding: 2rem;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            max-width: 600px;
            margin: 0 auto;
        " data-title="${series.title}">
            <div class="outline-header" style="
                display: flex;
                align-items: center;
                gap: 1.5rem;
                margin-bottom: 1.5rem;
            ">
                <div class="series-image" style="
                    width: 60px;
                    height: 60px;
                    background-image: url('${series.image}');
                    background-size: cover;
                    background-position: center;
                    border-radius: 8px;
                    flex-shrink: 0;
                    border: 1px solid #e5e5e5;
                "></div>
                <div>
                    <div class="series-title" style="
                        font-size: 1.4rem;
                        color: #192E5B;
                        margin-bottom: 0.5rem;
                    ">${series.title}</div>
                    <div class="series-meta" style="
                        font-size: 0.9rem;
                        color: #3288A0;
                        text-transform: uppercase;
                        letter-spacing: 1px;
                    ">${series.seriesInfo}</div>
                </div>
            </div>
            <div class="description" style="
                color: #666;
                margin-bottom: 1.5rem;
                font-style: italic;
            ">${series.description}</div>
            <ul class="outline-list" style="
                list-style: none;
                padding: 0;
                margin: 0;
            ">
                <li style="padding: 0.5rem 0; border-bottom: 1px solid #f0f0f0; color: #666;">• Six signs to recognize</li>
                <li style="padding: 0.5rem 0; border-bottom: 1px solid #f0f0f0; color: #666;">• Six deviant motivators to understand</li>
                <li style="padding: 0.5rem 0; border-bottom: 1px solid #f0f0f0; color: #666;">• Six ways to protect yourself</li>
                <li style="padding: 0.5rem 0; color: #666;">• Strategies to actively resist being overwhelmed</li>
            </ul>
        </div>
    `;

    // Add hover effect and click handler
    const outline = videosGrid.querySelector('.series-outline');
    outline.addEventListener('mouseenter', () => {
        outline.style.transform = 'translateY(-3px)';
        outline.style.boxShadow = '0 10px 30px rgba(0,0,0,0.1)';
    });
    outline.addEventListener('mouseleave', () => {
        outline.style.transform = 'translateY(0)';
        outline.style.boxShadow = 'none';
    });
    outline.addEventListener('click', () => {
        window.location.href = series.link;
    });
}

// Render Perspectives
function renderPerspectives() {
    const perspectivesGrid = document.getElementById('perspectives-grid');
    if (!perspectivesGrid) return;

    perspectivesGrid.innerHTML = contentData.perspectives.map(perspective => `
        <article class="article-card" data-title="${perspective.title}">
            <div class="card-content">
                <div class="card-meta">${perspective.category}</div>
                <h3 class="card-title">${perspective.title}</h3>
                <p class="card-excerpt">${perspective.excerpt}</p>
                <div class="card-footer">
                    <span class="card-date">${formatDate(perspective.date)}</span>
                    <span class="card-price free">${perspective.readTime}</span>
                </div>
            </div>
        </article>
    `).join('');

    // Add click handlers
    perspectivesGrid.addEventListener('click', (e) => {
        const card = e.target.closest('.article-card');
        if (card) {
            window.location.href = 'perspectives.html';
        }
    });
}

// Render Resources
function renderResources() {
    const resourcesGrid = document.getElementById('resources-grid');
    if (!resourcesGrid) return;

    resourcesGrid.innerHTML = contentData.resources.map(resource => `
        <div class="resource-card" data-title="${resource.title}">
            <div class="card-image" style="background-image: url('${resource.image}')"></div>
            <div class="card-content">
                <div class="card-meta">${resource.category}</div>
                <h3 class="card-title">${resource.title}</h3>
                <p class="card-excerpt">${resource.description}</p>
                <div class="card-footer">
                    <span class="card-date">Download</span>
                </div>
            </div>
        </div>
    `).join('');

    // Add click handlers
    resourcesGrid.addEventListener('click', (e) => {
        const card = e.target.closest('.resource-card');
        if (card) {
            window.location.href = 'resources.html';
        }
    });
}

// Render For Ladies Only section
function renderForLadiesOnly() {
    // Create the spacer
    const resourcesSection = document.querySelector('.resources-section');
    if (!resourcesSection) return;

    // Add full-width spacer
    const spacer = document.createElement('div');
    spacer.className = 'full-width-spacer';
    spacer.style.cssText = `
        width: 100%;
        height: 3rem;
        background: linear-gradient(135deg, #3288A0, #8AAC46);
        margin: 4rem 0;
    `;
    
    // Add For Ladies Only section
    const ladiesSection = document.createElement('section');
    ladiesSection.className = 'ladies-only-section';
    ladiesSection.style.cssText = 'padding: 4rem 0; background: white;';
    
    const ladiesData = contentData.forLadiesOnly;
    
    ladiesSection.innerHTML = `
        <div class="container">
            <div class="section-header">
                <div class="section-label">Special Resources</div>
                <h2 class="section-title">For Ladies Only</h2>
                <p class="section-description">Specialized resources for healing and recovery.</p>
            </div>
            <div class="ladies-grid" style="display: flex; justify-content: center;">
                <div class="resource-card ladies-card" data-title="${ladiesData.title}" style="max-width: 500px; cursor: pointer;">
                    <div class="card-image" style="background-image: url('${ladiesData.image}'); aspect-ratio: 16/9;"></div>
                    <div class="card-content">
                        <div class="card-meta">Recovery Guide</div>
                        <h3 class="card-title">${ladiesData.title}</h3>
                        <p class="card-excerpt">${ladiesData.description}</p>
                        <div class="card-footer">
                            <span class="card-date">Workbook Available</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    `;

    // Insert after resources section
    resourcesSection.parentNode.insertBefore(spacer, resourcesSection.nextSibling);
    spacer.parentNode.insertBefore(ladiesSection, spacer.nextSibling);

    // Add click handler
    ladiesSection.addEventListener('click', (e) => {
        const card = e.target.closest('.ladies-card');
        if (card) {
            window.location.href = ladiesData.link;
        }
    });
}

// Update section titles and descriptions
function updateSectionLabels() {
    // Update Featured Article to Featured Resource
    const featuredLabel = document.querySelector('.featured-section .section-label');
    if (featuredLabel) {
        featuredLabel.textContent = 'Featured Resource';
    }

    // Update Articles section to Bible Study Tools
    const articlesSection = document.querySelector('.articles-section');
    if (articlesSection) {
        const label = articlesSection.querySelector('.section-label');
        const title = articlesSection.querySelector('.section-title');
        const description = articlesSection.querySelector('.section-description');
        
        if (label) label.textContent = 'Study Resources';
        if (title) title.textContent = 'Bible Study Tools';
        if (description) description.textContent = 'Practical tools and templates to enhance your personal Bible study experience.';
    }

    // Update Publications section to Guided Bible Studies
    const publicationsSection = document.querySelector('.publications-section');
    if (publicationsSection) {
        const label = publicationsSection.querySelector('.section-label');
        const title = publicationsSection.querySelector('.section-title');
        const description = publicationsSection.querySelector('.section-description');
        
        if (label) label.textContent = 'In-Depth Studies';
        if (title) title.textContent = 'Guided Bible Studies';
        if (description) description.textContent = 'Comprehensive study guides with commentary, insights, and practical applications for deeper understanding.';
    }

    // Update Videos section to 666 Series
    const videosSection = document.querySelector('.videos-section');
    if (videosSection) {
        const label = videosSection.querySelector('.section-label');
        const title = videosSection.querySelector('.section-title');
        const description = videosSection.querySelector('.section-description');
        
        if (label) label.textContent = 'Special Series';
        if (title) title.textContent = '666 Series';
        if (description) description.textContent = 'Comprehensive study on resisting the mark of the beast and maintaining faith in challenging times.';
    }

    // Add Perspectives section after 666 series
    const perspectivesSection = document.createElement('section');
    perspectivesSection.className = 'perspectives-section';
    perspectivesSection.id = 'perspectives';
    perspectivesSection.style.cssText = 'padding: 4rem 0;';
    
    perspectivesSection.innerHTML = `
        <div class="container">
            <div class="section-header">
                <div class="section-label">Thoughtful Reflections</div>
                <h2 class="section-title">Perspectives</h2>
                <p class="section-description">Consider these perspectives on applying systems thinking to relationships, workplace dynamics, and personal growth.</p>
            </div>
            <div class="articles-grid" id="perspectives-grid">
                <!-- Perspectives will be loaded here -->
            </div>
        </div>
    `;

    // Insert after videos section
    if (videosSection) {
        videosSection.parentNode.insertBefore(perspectivesSection, videosSection.nextSibling);
    }

    // Update Resources section
    const resourcesSection = document.querySelector('.resources-section');
    if (resourcesSection) {
        const label = resourcesSection.querySelector('.section-label');
        const title = resourcesSection.querySelector('.section-title');
        const description = resourcesSection.querySelector('.section-description');
        
        if (label) label.textContent = 'Additional Resources';
        if (title) title.textContent = 'Resources';
        if (description) description.textContent = 'Specialized tools, assessments, and guides to support your spiritual growth and ministry development.';
    }
}

// Newsletter form handler
function setupNewsletterForm() {
    const form = document.getElementById('newsletter-form');
    if (form) {
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            const email = this.querySelector('input[type="email"]').value;
            alert(`Thank you for subscribing! You'll receive thoughtful insights at ${email}.`);
            this.reset();
        });
    }
}

// Initialize everything when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
    updateSectionLabels();
    renderFeaturedResource();
    renderBibleStudyTools();
    renderGuidedBibleStudies();
    render666Series();
    renderPerspectives();
    renderResources();
    renderForLadiesOnly();
    setupNewsletterForm();
});
